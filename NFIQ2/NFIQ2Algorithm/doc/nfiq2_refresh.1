.\" Automatically generated by Pandoc 2.10
.\"
.TH "REFRESH_NFIQ2" "1" "" "Version 1.0" "BSD General Commands Manual"
.hy
.SH NAME
.PP
\f[B]refresh_nfiq2\f[R] \[em] Produces NFIQ2 quality scores for finger
print images
.SH SYNOPSIS
.PP
\f[B]refresh_nfiq2\f[R] \f[B]OPTIONS\f[R] [\f[I]file/dir\f[R] \&...]
.PP
\f[B]refresh_nfiq2\f[R] -f [\f[I]batch\f[R] -f \&...] \f[B]OPTIONS\f[R]
[\f[I]file/dir\f[R] \&...]
.SH DESCRIPTION
.PP
\f[B]refresh_nfiq2\f[R] is a tool for the biometric fingerprint quality
algorithm NFIQ2.
It is used to produce quality scores for fingerprint image formats
supported by the Biometric Evaluation Framework.
.PP
\f[B]refresh_nfiq2\f[R] has the ability to take multiple file/directory
paths as arguments.
The exception to this is batch files, which must be following a
\[lq]-f\[rq] option.
If multiple images are provided, \f[B]refresh_nfiq2\f[R] will attempt to
process all images.
If an image fails to be scanned for whatever reason, an error is printed
in absence of a quality score.
.PP
\f[B]refresh_nfiq2\f[R] Prints scores in a Comma Separated Value format
(CSV).
The standard output includes information about the image including: the
image\[cq]s name, finger position (if applicable), quality score, error
message (if applicable), whether the image was quantized, and whether
the image was resampled.
.PP
This tool features some additional options, including output redirection
and multi-threading, listed below:
.SH OPTIONS
.PP
\f[B]-i\f[R] \f[I]file/dir\f[R]
.RS
.PP
Allows for explicit \f[I]file/dir\f[R] arguments to be given to the
command line.
Using this option with a \f[I]file/dir\f[R] is equivalent to providing
file paths directly to the \f[B]refresh_nfiq2\f[R] executable.
.RE
.PP
\f[B]-f\f[R] \f[I]batch\f[R]
.RS
.PP
Allows for batch files to be given to \f[B]refresh_nfiq2\f[R].
This option must be used for a batch file to be correctly processed.
Each filepath in a batch file is read in and an image tries to be parsed
from that location.
If unsuccessful, an error message is printed out and computation
continues until all paths have been scanned.
This operation can be sequential or multi-threaded.
Output is not guaranteed to be in order if the multi-threaded option is
selected.
.RE
.PP
\f[B]-o\f[R] \f[I]file\f[R]
.RS
.PP
Allows for all output to be printed to a \f[I]file\f[R].
A \f[I]file\f[R] will be created at the designated path if one does not
exist already.
Output includes all scores, error messages, verbose, speed, and debug
dialogue.
.RE
.PP
\f[B]-j\f[R] \f[I]threads\f[R]
.RS
.PP
Indicates the number of worker \f[I]threads\f[R] that will be generated
when running multi-threaded batch or record store operations.
This number may exceed the number of physical cores on a user\[cq]s
system; however, a warning will appear asking if the user would like to
proceed or change the number of \f[I]threads\f[R] to equal the number of
physical cores.
.RE
.PP
\f[B]-v\f[R]
.RS
.PP
Verbose option provides additional feature information pertaining to
each subcomponent of the NFIQ2 algorithm.
.RE
.PP
\f[B]-q\f[R]
.RS
.PP
Speed option provides additional speed information pertaining to the
amount of time each subcomponent of the NFIQ2 algorithm took to compute.
.RE
.PP
\f[B]-d\f[R]
.RS
.PP
Debug option provides additional information pertaining to program
execution and details each step of computation.
.RE
.PP
\f[B]-F\f[R]
.RS
.PP
Force option ignores user-input from the program when an image does not
meet NFIQ2 image requirements and proceeds with execution as normal.
See NOTES 1
.RE
.PP
\f[B]-r\f[R]
.RS
.PP
Recursion option allows for directories to be recursively scanned for
images.
I.E.
if a directory exists within another directory.
The Recursion option also traverses that inner directory.
The recursion performed is depth-first and stops once all branches have
been scanned.
.RE
.PP
\f[B]-m\f[R] \f[I]model\f[R]
.RS
.PP
Allows for an alternative Machine Learning model to be used in
conjunction with NFIQ2\[cq]s algorithm.
.PD 0
.P
.PD
Not implemented yet
.RE
.SH NOTES
.IP "1." 3
NFIQ2 has restrictions on what kinds of finger print images it can
process.
The color depth and bit depth of an image must be 8.
The PPI of an image must be 500.
\f[B]refresh_nfiq2\f[R] has mechanisms built in to try and
quantize/resample images that do not meet these qualifications so that a
score can still be produced.
These mechanisms will be automatically applied when utilizing
\[lq]-F\[rq] `force' option.
.IP "2." 3
Output is generated in a standard Comma Separated Value (CSV) format.
Headers are printed before any scores are printed.
The exception to this format is when a single image is provided with no
\[lq]-v\[rq] or \[lq]-q\[rq] options.
In this case, only the quality score is printed for the image.
.IP "3." 3
Current supported image types/file formats include:
.RS 4
.IP "1." 3
Finger print image formats parse-able through the Biometric Evaluation
Framework (i.e.\ png, jpeg, tiff, wsq, etc.)
.IP "2." 3
Batch files
.IP "3." 3
RecordStores
.IP "4." 3
ANSI/NIST AN2K files
.IP "5." 3
ANSI/ISO ANSI2004 files
.RE
.SH EXAMPLES
.PP
The following are examples of using \f[B]refresh_NFIQ2\f[R] on different
file types and option combinations.
.PP
refresh_NFIQ2 print1
.RS
.PP
Prints the quality score of \f[I]print1\f[R] to the screen.
.RE
.PP
refresh_NFIQ2 print1 print2 print3
.RS
.PP
Prints the standard CSV formatted scores of \f[I]print1\f[R],
\f[I]print2\f[R], and \f[I]print3\f[R].
.RE
.PP
refresh_NFIQ2 fingerprintDir
.RS
.PP
Searches the directory \f[I]fingerprintDir\f[R] and processes all of the
finger print images it can identify.
.RE
.PP
refresh_NFIQ2 -r fingerprintDir
.RS
.PP
Recursively searches through \f[I]fingerprintDir\f[R] and all
directories within \f[I]fingerprintDir\f[R] to find and process all
identifiable finger prints.
.RE
.PP
refresh_NFIQ2 -r -i print1 -i fingerprintDir -o output.txt print2 print3
.RS
.PP
Produces the quality scores of \f[I]print1\f[R], \f[I]print2\f[R], and
\f[I]print3\f[R].
Recursively traverses \f[I]fingerprintDir\f[R] and prints the quality
scores of the finger print images it discovers in there.
Saves all score output to a file in the current directory named
\f[I]output.txt\f[R].
This example showcases how \f[B]refresh_NFIQ2\f[R] can support multiple
types of arguments in a single execution.
.RE
.PP
refresh_NFIQ2 -v -q fingerprintDir
.RS
.PP
Produces the quality scores of the finger print images stored inside of
\f[I]fingerprintDir\f[R].
Additional NFIQ2 component algorithm results and their timings are also
printed in CSV format \[en] appended to the standard CSV format.
.RE
.PP
refresh_NFIQ2 -F mixedfingerprintDir
.RS
.PP
\f[I]mixedfingerprintDir\f[R] contains a variety of finger print images.
Some do adhere to NFIQ2\[cq]s 8 bit color and depth, and 500 PPI
requirements, some do not.
The \f[I]-F\f[R] option automatically applies any quantizing or
resampling applicable to each image scanned.
.RE
.PP
refresh_NFIQ2 -f batchFile1
.RS
.PP
The \f[I]-f\f[R] option denotes \f[I]batchFile1\f[R] as a batch file
comprising up of a list of paths to finger print images.
\f[B]refresh_NFIQ2\f[R] grabs the content of this \f[I]batchFile1\f[R]
and sequentially calculates the quality of each image and prints it to
the screen.
.RE
.PP
refresh_NFIQ2 -v -q -f batchFile1 -j 4
.RS
.PP
This is a multi-threaded batch operation on \f[I]batchFile1\f[R],
utilizing \f[I]4\f[R] threads, denoted by the \f[I]-j\f[R] option.
The \f[I]-v\f[R] and \f[I]-q\f[R] are also enabled, producing additional
NFIQ2 sub component scores and their timings.
.RE
.PP
refresh_NFIQ2 recordStore1
.RS
.PP
Iterates through the records of \f[I]recordStore1\f[R] and produces the
scores of the images stored within those records sequentially.
.RE
.PP
refresh_NFIQ2 -j 8 recordStore1
.RS
.PP
Multi-threaded operation processing the records of
\f[I]recordStore1\f[R], utilizing \f[I]8\f[R] worker \f[I]threads\f[R].
.RE
.SH VERSION
.PP
This man page is current for version 1.0 of \f[B]refresh_nfiq2\f[R]
.SH HISTORY
.PP
First Released Summer 2020 by NIST.
