.\" Automatically generated by Pandoc 2.10.1
.\"
.TH "NFIQ2" "1" "" "Version 1.0" "National Institute of Standards and Technology"
.hy
.SH NAME
.PP
\f[B]nfiq2\f[R] \[em] Compute quality of fingerprint images
.SH SYNOPSIS
.PP
\f[B]nfiq2\f[R] \f[B]OPTIONS\f[R] \f[I]file/dir/rs\f[R] [\&...]
.PP
\f[B]nfiq2\f[R] -f \f[I]batch\f[R] [-f \&...] \f[B]OPTIONS\f[R]
[\f[I]file/dir/rs\f[R] \&...]
.SH DESCRIPTION
.PP
\f[B]nfiq2\f[R] is a tool for computing the NIST Fingerprint Image
Quality (NFIQ) 2 of fingerprint images.
It is used to produce quality scores for fingerprint images encoded in
formats supported by Biometric Evaluation framework (BMP, JPEG, JPEGL,
JPEG-2000, PBM, PNG, TIFF, and WSQ).
Images can be encoded stand alone, within an ANSI/NIST ITL Type 14
record, or any combination of the two within a Biometric Evaluation
Record Store.
\f[B]nfiq2\f[R] serves as a reference implementation of ISO/IEC
29794-4:2017.
.PP
\f[B]nfiq2\f[R] Prints scores in a Comma Separated Value (CSV) format.
The default output includes information about the image including: the
image\[cq]s name, finger position (if applicable), quality score, error
message (if applicable), whether the image was quantized, and whether
the image was resampled.
.PP
This tool features some additional options, including batch operation
support, output redirection and multi-threading, listed below:
.SH OPTIONS
.PP
\f[B]-i\f[R] \f[I]file/dir/rs\f[R]
.RS
.PP
Allows for explicit \f[I]file/dir/rs\f[R] arguments to be passed.
Using this option with a \f[I]file/dir/rs\f[R] is equivalent to
providing file paths directly to the \f[B]nfiq2\f[R] executable.
.RE
.PP
\f[B]-f\f[R] \f[I]batch\f[R]
.RS
.PP
Batch files.
A batch file is a plain text file, where each line is the path to a file
to process.
.RE
.PP
\f[B]-o\f[R] \f[I]file\f[R]
.RS
.PP
Write all output to be printed to \f[I]file\f[R].
\f[I]file\f[R] will be overwritten if it exists.
.RE
.PP
\f[B]-j\f[R] \f[I]threads\f[R]
.RS
.PP
Indicates the number of worker \f[I]threads\f[R] that will be spawned
when running batch or Record Store operations.
This number may exceed the number of physical cores on a user\[cq]s
system; however, a warning will appear asking if the user would like to
proceed or change the number of \f[I]threads\f[R] to equal the number of
physical cores.
One additional thread will be spawed for coordinating output.
.RE
.PP
\f[B]-a\f[R]
.RS
.PP
Actionable quality output.
Provides additonal actionable quality information pertainting to each
processed fingerprint image.
.RE
.PP
\f[B]-v\f[R]
.RS
.PP
Verbose output.
Provides additional feature quality information pertaining to each
measurement of NFIQ2.
.RE
.PP
\f[B]-q\f[R]
.RS
.PP
Speed.
Provides additional speed information pertaining to the amount of time
each measurement of NFIQ2 took to compute.
.RE
.PP
\f[B]-d\f[R]
.RS
.PP
Debug.
Provides additional information pertaining to program execution and
details each step of computation.
.RE
.PP
\f[B]-F\f[R]
.RS
.PP
Force.
Does not ask for user input when when an image does not meet NFIQ2 image
requirements.
See NOTES 1
.RE
.PP
\f[B]-r\f[R]
.RS
.PP
Recursion.
Allows for directories to be recursively scanned for images/records.
The recursion performed is depth-first and stops once all branches have
been scanned.
.RE
.PP
\f[B]-m\f[R] \f[I]model\f[R]
.RS
.PP
Path to an model information file.
Allows for alternative random forest parameters to be used in
conjunction with NFIQ2\[cq]s algorithm.
A default file is provided.
This file contains \[lq]Key = Value\[rq] pairs of information, with
Keys:
.RE
.RS
.IP \[bu] 2
\f[B]Name\f[R]: Name given to this set of random forest parameters
.IP \[bu] 2
\f[B]Description\f[R]: Description of the training
.IP \[bu] 2
\f[B]Version\f[R]: Version number of the training
.IP \[bu] 2
\f[B]Path\f[R]: Path to the random forest parameters.
If the path provided is relative, it must be relative to the directory
containing the file passed with \f[I]-m\f[R], not the current working
directory or the nfiq2 executable.
.IP \[bu] 2
\f[B]Hash\f[R]: Hash of random forest parameters, as parsed by OpenCV
.RE
.SH NOTES
.IP "1." 3
NFIQ2 has restrictions on what kinds of fingerprint images it can
process.
The color depth and bit depth of an image must be 8 (i.e., maximum of
255 shades of gray).
The PPI of an image must be 500.
\f[B]nfiq2\f[R] has mechanisms to quantize and/or resample images that
do not meet these qualifications so that a quality score can still be
produced.
These mechanisms will be automatically applied when utilizing the
\f[B]-F\f[R] flag.
.IP "2." 3
Output is generated in a CSV format.
Headers are printed before any scores are printed.
The exception to this format is when a single image is provided without
the \f[B]-v\f[R] or \f[B]-q\f[R] flag.
In this case, only the quality score is printed for the image.
.IP "3." 3
Current supported formats include:
.RS 4
.IP "1." 3
Fingerprint image formats parseable through Biometric Evaluation
Framework (e.g., PNG, JPEG, TIFF, WSQ, etc.)
.IP "2." 3
Batch files
.IP "3." 3
Record Stores
.IP "4." 3
ANSI/NIST-ITL 2007 (and later) binary files
.RE
.SH EXAMPLES
.PP
The following are examples of using \f[B]nfiq2\f[R] on different file
types and option combinations.
.PP
nfiq2 print1.wsq
.RS
.PP
Prints the quality score of \f[I]print1.wsq\f[R] to the screen.
.RE
.PP
nfiq2 print1.wsq print2.png print3.an2
.RS
.PP
Prints the standard CSV formatted scores of \f[I]print1.wsq\f[R],
\f[I]print2.png\f[R], and \f[I]print3.an2\f[R].
.RE
.PP
nfiq2 fingerprintDir
.RS
.PP
Searches the directory \f[I]fingerprintDir\f[R] and processes all of the
fingerprint images it can identify.
.RE
.PP
nfiq2 -r fingerprintDir
.RS
.PP
Recursively searches through \f[I]fingerprintDir\f[R] and all
directories within \f[I]fingerprintDir\f[R] to find and process all
identifiable fingerprints.
.RE
.PP
nfiq2 -r -i print1.tif -i fingerprintDir -o output.csv print2.jpg
print3.bmp
.RS
.PP
Produces quality scores of \f[I]print1.tif\f[R], \f[I]print2.jpg\f[R],
and \f[I]print3.bmp\f[R].
Recursively traverses \f[I]fingerprintDir\f[R] and prints the quality
scores of the fingerprint images it discovers in there.
Saves all output to a file in the current directory named
\f[I]output.csv\f[R].
This example showcases how \f[B]nfiq2\f[R] can support multiple types of
arguments in a single execution.
.RE
.PP
nfiq2 -v -q fingerprintDir
.RS
.PP
Produces the quality scores of the fingerprint images stored inside of
\f[I]fingerprintDir\f[R].
Additional NFIQ2 component algorithm results and their timings are also
printed in CSV format \[en] appended to the standard CSV format.
.RE
.PP
nfiq2 -F mixedFingerprintDir
.RS
.PP
\f[I]mixedFingerprintDir\f[R] contains a variety of fingerprint images.
Some adhere to NFIQ2\[cq]s 8 bit and color depth, and 500 PPI
requirements, some do not.
The \f[I]-F\f[R] option automatically applies any quantizing and
resampling applicable to each image scanned.
.RE
.PP
nfiq2 -f batchFile1.txt
.RS
.PP
The \f[B]-f\f[R] option denotes \f[I]batchFile1.txt\f[R] as a batch file
comprising of a list of paths to fingerprint images.
\f[B]nfiq2\f[R] reads the content of \f[I]batchFile1.txt\f[R],
sequentially calculates the quality of each image, and prints it to the
screen.
.RE
.PP
nfiq2 -v -q -f batchFile1.txt -j 4
.RS
.PP
This is a multi-threaded batch operation on \f[I]batchFile1.txt\f[R],
utilizing \f[I]4\f[R] threads, denoted by the \f[B]-j\f[R] option.
The \f[B]-v\f[R] and \f[B]-q\f[R] are also enabled, producing additional
NFIQ2 sub component scores and their timings.
.RE
.PP
nfiq2 recordStore1
.RS
.PP
Iterates through the records of \f[I]recordStore1\f[R], producing
quality scores of the images stored within the Record Store
sequentially.
.RE
.PP
nfiq2 -j 8 recordStore1
.RS
.PP
Multi-threaded operation processing the records of
\f[I]recordStore1\f[R], utilizing \f[I]8\f[R] worker \f[I]threads\f[R].
.RE
.SH VERSION
.PP
This man page is current for version 1.0 of \f[B]nfiq2\f[R]
.SH HISTORY
.PP
First released August 2020 by NIST.
